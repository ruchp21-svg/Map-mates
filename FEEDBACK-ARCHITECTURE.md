# ðŸ“Š Feedback Page - Visual Architecture & Data Flow

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MapMates Application                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Router (App)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼             â–¼             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ Login  â”‚    â”‚   Home   â”‚  â”‚ Feedback â”‚ â—„â”€â”€ NEW PAGE
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ TripReview     â”‚  â”‚ Chat/Messagesâ”‚
            â”‚ (Rating)       â”‚  â”‚ (Messaging)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                       â–¼
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  Feedback Component  â”‚
                            â”‚  (Shows All Reviews) â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Feedback.js Component                    â”‚
â”‚                                                     â”‚
â”‚  useEffect(                                        â”‚
â”‚    () => loadReviews(),                           â”‚
â”‚    [activeTab, currentUser]                       â”‚
â”‚  )                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                     â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Received    â”‚    â”‚ Given        â”‚
   â”‚ Reviews     â”‚    â”‚ Reviews      â”‚
   â”‚             â”‚    â”‚              â”‚
   â”‚ Fetch trips â”‚    â”‚ Fetch all    â”‚
   â”‚ hosted by   â”‚    â”‚ reviews by   â”‚
   â”‚ user        â”‚    â”‚ user         â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  loadReviews()   â”‚
         â”‚                  â”‚
         â”‚ - Get tripData   â”‚
         â”‚ - Get tripReviewsâ”‚
         â”‚ - Calculate statsâ”‚
         â”‚ - Sort by date   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ State Updated      â”‚
         â”‚                    â”‚
         â”‚ setReviews()       â”‚
         â”‚ setTripDetails()   â”‚
         â”‚ setStats()         â”‚
         â”‚ setLoading(false)  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Component Renders â”‚
         â”‚                    â”‚
         â”‚ Shows:             â”‚
         â”‚ â€¢ Statistics (if   â”‚
         â”‚   Received tab)    â”‚
         â”‚ â€¢ Filter dropdown  â”‚
         â”‚ â€¢ Review cards     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Structure Hierarchy

```
User (currentUser)
â”œâ”€â”€ id: string
â”œâ”€â”€ username: string
â”œâ”€â”€ karma: number
â””â”€â”€ ...

     â”‚
     â–¼
Feedback Component
â”œâ”€â”€ activeTab: "received" | "given"
â”œâ”€â”€ reviews: Review[]
â”œâ”€â”€ tripDetails: { tripId: Trip }
â”œâ”€â”€ stats: {
â”‚   totalReviews: number
â”‚   averageRating: number
â”‚   ratingDistribution: {
â”‚       5: count,
â”‚       4: count,
â”‚       3: count,
â”‚       2: count,
â”‚       1: count
â”‚   }
â”‚}
â””â”€â”€ filterRating: "all" | 1 | 2 | 3 | 4 | 5

     â”‚
     â”œâ”€â–º Review[]
     â”‚   â”œâ”€â”€ Review {
     â”‚   â”‚   id: string
     â”‚   â”‚   userId: string
     â”‚   â”‚   username: string
     â”‚   â”‚   tripId: string
     â”‚   â”‚   rating: 1-5
     â”‚   â”‚   comment: string
     â”‚   â”‚   timestamp: ISO
     â”‚   â”‚}
     â”‚   â””â”€â”€ ...
     â”‚
     â””â”€â–º Trip[]
         â”œâ”€â”€ Trip {
         â”‚   id: string
         â”‚   title: string
         â”‚   location: string
         â”‚   hostId: string
         â”‚   participants: []
         â”‚   category: string
         â”‚   date: string
         â”‚   time: string
         â”‚}
         â””â”€â”€ ...
```

---

## User Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User on Home     â”‚
â”‚ Page             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Click "ðŸ“‹ Feedback" in Navbar
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Navigate to      â”‚
â”‚ /feedback route  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feedback Component Loads â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Choose â”‚
    â”‚ Tab    â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚
   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
   â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Receivedâ”‚ â”‚ Given  â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
    â”‚           â”‚
    â”‚ Shows     â”‚ Shows
    â”‚ Reviews   â”‚ Reviews
    â”‚ YOU got   â”‚ YOU gave
    â”‚           â”‚
    â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Stats + Reviews  â”‚ (Received only)
â”‚ Filter by rating â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Reviews â”‚    â”‚ Filter by  â”‚
â”‚ Display â”‚    â”‚ Rating     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Filtered Reviews â”‚
     â”‚ List Updated     â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Click Back or    â”‚
     â”‚ Navigate Away    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ Return to Home   â”‚
     â”‚ (state cleared)  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Statistics Calculation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Received Reviews Data       â”‚
â”‚ [                           â”‚
â”‚   {rating: 5, ...},        â”‚
â”‚   {rating: 5, ...},        â”‚
â”‚   {rating: 4, ...},        â”‚
â”‚   {rating: 3, ...}         â”‚
â”‚ ]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ calculateStats()  â”‚
     â”‚                   â”‚
     â”‚ totalReviews = 4  â”‚
     â”‚                   â”‚
     â”‚ totalRating =     â”‚
     â”‚   5+5+4+3 = 17    â”‚
     â”‚                   â”‚
     â”‚ average =         â”‚
     â”‚   17 Ã· 4 = 4.25   â”‚
     â”‚                   â”‚
     â”‚ distribution = {  â”‚
     â”‚   5: 2 (50%)      â”‚
     â”‚   4: 1 (25%)      â”‚
     â”‚   3: 1 (25%)      â”‚
     â”‚   2: 0            â”‚
     â”‚   1: 0            â”‚
     â”‚ }                 â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Stats Object:      â”‚
    â”‚ {                  â”‚
    â”‚   totalReviews: 4  â”‚
    â”‚   averageRating:   â”‚
    â”‚      4.25          â”‚
    â”‚   ratingDistribution
    â”‚      (see above)   â”‚
    â”‚ }                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Display in UI:     â”‚
    â”‚ - Rating: 4.25 â­  â”‚
    â”‚ - 4 reviews total  â”‚
    â”‚ - Distribution bar â”‚
    â”‚   chart with %     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Review Card Rendering Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Each Review Object in Array      â”‚
â”‚ {                                â”‚
â”‚   id: "12345"                    â”‚
â”‚   userId: "user_456"             â”‚
â”‚   username: "john_adventure"     â”‚
â”‚   rating: 5                      â”‚
â”‚   comment: "Amazing trip!"       â”‚
â”‚   timestamp: "2025-11-15T..."    â”‚
â”‚   tripId: "trip_789"             â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ renderReviewCard()     â”‚
    â”‚                        â”‚
    â”‚ 1. Get avatar letter:  â”‚
    â”‚    "john"[0] = "J"    â”‚
    â”‚                        â”‚
    â”‚ 2. Format timestamp:   â”‚
    â”‚    "Nov 15, 2025"      â”‚
    â”‚                        â”‚
    â”‚ 3. Get rating label:   â”‚
    â”‚    5 = "Excellent! ðŸš€" â”‚
    â”‚                        â”‚
    â”‚ 4. Get karma:          â”‚
    â”‚    5 = "+10 Karma"     â”‚
    â”‚                        â”‚
    â”‚ 5. Fetch trip data:    â”‚
    â”‚    trip_789 details    â”‚
    â”‚                        â”‚
    â”‚ 6. Format comment:     â”‚
    â”‚    Italics + quotes    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Rendered Card JSX:           â”‚
    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚ â”‚ J  john_adventure        â”‚ â”‚
    â”‚ â”‚    Nov 15, 2025          â”‚ â”‚
    â”‚ â”‚              â­â­â­â­â­   â”‚ â”‚
    â”‚ â”‚              Excellent!  â”‚ â”‚
    â”‚ â”‚              +10 Karma   â”‚ â”‚
    â”‚ â”‚                          â”‚ â”‚
    â”‚ â”‚ ðŸ“ Mountain Hiking       â”‚ â”‚
    â”‚ â”‚    Rocky Mountains       â”‚ â”‚
    â”‚ â”‚                          â”‚ â”‚
    â”‚ â”‚ "Amazing trip!"          â”‚ â”‚
    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Filter Mechanism

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ All Reviews in Memory        â”‚
â”‚ [                            â”‚
â”‚   {rating: 5, ...},          â”‚
â”‚   {rating: 4, ...},          â”‚
â”‚   {rating: 5, ...},          â”‚
â”‚   {rating: 3, ...},          â”‚
â”‚   {rating: 4, ...},          â”‚
â”‚   {rating: 5, ...}           â”‚
â”‚ ]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                    â”‚
   â”‚ filterRating = 5   â”‚
   â”‚ (User selects)     â”‚
   â”‚                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ filteredReviews =       â”‚
   â”‚ reviews.filter(r =>     â”‚
   â”‚   r.rating === 5        â”‚
   â”‚ )                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Result:                  â”‚
   â”‚ [                        â”‚
   â”‚   {rating: 5, ...},      â”‚
   â”‚   {rating: 5, ...},      â”‚
   â”‚   {rating: 5, ...}       â”‚
   â”‚ ]                        â”‚
   â”‚                          â”‚
   â”‚ (3 reviews shown)        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ User changes filter
        â”‚ to 3
        â”‚
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Result:                  â”‚
   â”‚ [                        â”‚
   â”‚   {rating: 3, ...}       â”‚
   â”‚ ]                        â”‚
   â”‚                          â”‚
   â”‚ (1 review shown)         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Tab Switching Logic

```
Component State: activeTab = "received"

     â”‚
     â–¼ User clicks "ðŸ“¤ Given" tab
     â”‚
setActiveTab("given")
     â”‚
     â–¼ State updated
     â”‚
useEffect triggered
(dependency: activeTab)
     â”‚
     â–¼ loadReviews() called
     â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ if (activeTab === 'given')
   â”‚   {                       â”‚
   â”‚   // Get all reviews     â”‚
   â”‚   // from all trips      â”‚
   â”‚   // where               â”‚
   â”‚   // userId === current  â”‚
   â”‚   }                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
Component State: activeTab = "given"
               reviews = [...]

     â”‚
     â–¼ UI updates
     â”‚
Display Given Reviews Tab

     â”‚
     â–¼ User clicks "ðŸ“¥ Received" tab
     â”‚
setActiveTab("received")
     â”‚
     â–¼ State updated
     â”‚
(Cycle repeats)
```

---

## Browser Storage Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Browser localStorage          â”‚
â”‚                                     â”‚
â”‚ Key: "trips"                        â”‚
â”‚ Value: [{id, title, hostId, ...}]  â”‚
â”‚                                     â”‚
â”‚ Key: "tripReviews"                  â”‚
â”‚ Value: {                            â”‚
â”‚   "trip_1": [{...}, {...}],         â”‚
â”‚   "trip_2": [{...}]                 â”‚
â”‚ }                                   â”‚
â”‚                                     â”‚
â”‚ Key: "users"                        â”‚
â”‚ Value: [{id, karma, ...}]           â”‚
â”‚                                     â”‚
â”‚ Key: "currentUser"                  â”‚
â”‚ Value: {id, username, karma}        â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Feedback.js reads data  â”‚
    â”‚ on mount                â”‚
    â”‚                         â”‚
    â”‚ JSON.parse(             â”‚
    â”‚   localStorage.getItem( â”‚
    â”‚     'tripReviews'       â”‚
    â”‚   )                     â”‚
    â”‚ )                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Converts JSON string    â”‚
    â”‚ to JavaScript objects   â”‚
    â”‚ for processing          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Component processes     â”‚
    â”‚ and displays data       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Error Handling Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Component Mount              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Try to Load Data             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
      â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Success   â”‚  â”‚Error       â”‚
â”‚          â”‚  â”‚            â”‚
â”‚Display   â”‚  â”‚Show empty  â”‚
â”‚Reviews   â”‚  â”‚state msg   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚             â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Final UI Display â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Responsive Breakpoint Cascade

```
Screen Size                  Layout Applied
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
> 1200px (Desktop)           Multi-column layout
                             Stats side-by-side
                             Full-width cards
                             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€
                                      â”‚
                                      â–¼
768px - 1199px (Tablet)      Adapted grid layout
                             Stacked stats
                             Optimized spacing
                                      â”‚
                                      â–¼
480px - 767px (Mobile)       Single column layout
                             Stacked components
                             Touch-friendly
                                      â”‚
                                      â–¼
< 480px (Small Mobile)       Compact layout
                             Minimum spacing
                             Optimized fonts
```

---

## State Update Lifecycle

```
Component Mounts
    â”‚
    â–¼
Initial State:
    activeTab = 'received'
    reviews = []
    stats = {totalReviews: 0, ...}
    loading = true
    â”‚
    â–¼
useEffect runs
    â”‚
    â–¼
loadReviews() executes
    â”‚
    â–¼
setReviews([...])
setStats({...})
setLoading(false)
    â”‚
    â–¼
Component Re-renders
    â”‚
    â–¼
UI displays data
    â”‚
    â–¼
User interacts (click tab/filter)
    â”‚
    â–¼
State updated
    â”‚
    â–¼
Re-render triggered
    â”‚
    â–¼
(Cycle continues)
```

---

## Color Code Mapping

```
Rating â”€â”€â–º Color â”€â”€â–º Hex Code â”€â”€â–º Usage
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
5â­   Green     #28a745      âœ“ Excellent badges
4â­   Green     #28a745      âœ“ Very Good badges
3â­   Yellow    #ffc107      âœ“ Average badges
2â­   Orange    #fd7e14      âœ“ Bad badges
1â­   Red       #dc3545      âœ“ Poor badges

Distribution Bar Colors:
5â­ â”€â”€â–º Green bar
4â­ â”€â”€â–º Green bar
3â­ â”€â”€â–º Yellow bar
2â­ â”€â”€â–º Orange bar
1â­ â”€â”€â–º Red bar
```

---

## Routing Diagram

```
/login â”€â”€â”€â”€â–º Signup/Login pages
/signup      â”‚
             â”‚
             â–¼ (After auth)
             â”‚
    /home â—„â”€â”€â”´â”€â”€â–º /chat
     â”‚            /messages
     â”‚
  /map         /profile
     â”‚            â”‚
     â”‚            â–¼
     â”‚        /karma
     â”‚            â”‚
     â”‚            â–¼
     â”‚        /feedback â—„â”€â”€â”€â”€ NEW FEATURE
     â”‚            â”‚
     â”‚            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
              â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         â–¼         â–¼
    /trip-chat  /trip-review
   /:tripId     /:tripId
```

---

**This comprehensive architecture diagram shows how the Feedback system integrates with MapMates and handles data flow, user interactions, and state management.**
